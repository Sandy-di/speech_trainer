# Generated by Django 5.2.9 on 2025-12-30 05:43

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('training', '0008_announcement_audio_file'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Achievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='æˆå°±åç§°')),
                ('description', models.TextField(verbose_name='æˆå°±æè¿°')),
                ('icon', models.CharField(default='ğŸ†', max_length=50, verbose_name='å›¾æ ‡')),
                ('condition_type', models.CharField(choices=[('streak', 'è¿ç»­å¤©æ•°'), ('total_days', 'ç´¯è®¡å¤©æ•°'), ('exp', 'ç»éªŒå€¼'), ('recordings', 'å½•éŸ³æ•°é‡'), ('level', 'ç­‰çº§'), ('first', 'é¦–æ¬¡å®Œæˆ')], max_length=50, verbose_name='æ¡ä»¶ç±»å‹')),
                ('condition_value', models.IntegerField(default=1, verbose_name='æ¡ä»¶å€¼')),
                ('exp_reward', models.IntegerField(default=50, verbose_name='ç»éªŒå¥–åŠ±')),
                ('order', models.IntegerField(default=0, verbose_name='æ’åº')),
            ],
            options={
                'verbose_name': 'æˆå°±',
                'verbose_name_plural': 'æˆå°±',
                'ordering': ['order', 'id'],
            },
        ),
        migrations.CreateModel(
            name='BuddyPair',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='é…å¯¹æ—¶é—´')),
                ('is_active', models.BooleanField(default=True, verbose_name='æ˜¯å¦æœ‰æ•ˆ')),
                ('student_a', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='buddy_as_a', to=settings.AUTH_USER_MODEL, verbose_name='å­¦å‘˜A')),
                ('student_b', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='buddy_as_b', to=settings.AUTH_USER_MODEL, verbose_name='å­¦å‘˜B')),
            ],
            options={
                'verbose_name': 'äº’å¸®é…å¯¹',
                'verbose_name_plural': 'äº’å¸®é…å¯¹',
            },
        ),
        migrations.CreateModel(
            name='Encouragement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField(max_length=500, verbose_name='é¼“åŠ±æ¶ˆæ¯')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='å‘é€æ—¶é—´')),
                ('is_read', models.BooleanField(default=False, verbose_name='æ˜¯å¦å·²è¯»')),
                ('pair', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='encouragements', to='training.buddypair', verbose_name='é…å¯¹')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='å‘é€è€…')),
            ],
            options={
                'verbose_name': 'é¼“åŠ±æ¶ˆæ¯',
                'verbose_name_plural': 'é¼“åŠ±æ¶ˆæ¯',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StudentProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('experience_points', models.IntegerField(default=0, verbose_name='ç»éªŒå€¼')),
                ('level', models.IntegerField(default=1, verbose_name='ç­‰çº§')),
                ('streak_days', models.IntegerField(default=0, verbose_name='è¿ç»­ç»ƒä¹ å¤©æ•°')),
                ('last_practice_date', models.DateField(blank=True, null=True, verbose_name='ä¸Šæ¬¡ç»ƒä¹ æ—¥æœŸ')),
                ('total_practice_days', models.IntegerField(default=0, verbose_name='ç´¯è®¡ç»ƒä¹ å¤©æ•°')),
                ('total_recordings', models.IntegerField(default=0, verbose_name='ç´¯è®¡å½•éŸ³æ•°')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='game_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'å­¦å‘˜æ¡£æ¡ˆ',
                'verbose_name_plural': 'å­¦å‘˜æ¡£æ¡ˆ',
            },
        ),
        migrations.CreateModel(
            name='StudentAchievement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('earned_at', models.DateTimeField(auto_now_add=True, verbose_name='è·å¾—æ—¶é—´')),
                ('achievement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='training.achievement')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='achievements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'å­¦å‘˜æˆå°±',
                'verbose_name_plural': 'å­¦å‘˜æˆå°±',
                'unique_together': {('student', 'achievement')},
            },
        ),
    ]
